(window.webpackJsonp=window.webpackJsonp||[]).push([["ezplatform-admin-ui-udw-extras-js"],{"+DdG":function(e,t,n){"use strict";n.r(t);var r=n("cDcd"),o=n.n(r),a=n("rf6O"),i=n.n(a),c=n("uHg5"),s=n("PdvI"),u=n("nLu2"),l=n("CgFf");function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=function(e){var t=e.isDisabled,n=d(Object(r.useContext)(l.CurrentViewContext),2),a=n[0],i=n[1],f=Object(u.a)({"c-udw-view-switcher":!0,"c-udw-view-switcher--disabled":t});return o.a.createElement("div",{className:f},l.VIEWS.map((function(e){var n=e.id===a?"c-menu-button--selected":"";return o.a.createElement(s.a,{key:e.id,extraClasses:n,onClick:function(){i(e.id),window.eZ.helpers.tooltips.hideAll()},isDisabled:t,title:e.tooltipLabel},o.a.createElement(c.a,{name:e.icon,extraClasses:"ez-icon--small-medium"}))})))};m.propTypes={isDisabled:i.a.bool},m.defaultProps={isDisabled:!1},eZ.addConfig("adminUiConfig.universalDiscoveryWidget.topMenuActions",[{id:"view-switcher",priority:10,component:m}],!0),t.default=m},33:function(e,t,n){n("S6d5"),n("8paM"),n("Ldod"),n("FKNw"),n("+DdG"),e.exports=n("NXPk")},"8paM":function(e,t,n){"use strict";n.r(t);var r=n("cDcd"),o=n.n(r),a=n("rf6O"),i=n.n(a),c=n("uHg5"),s=n("CgFf");function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=function(e){var t,n,a,i=e.isDisabled,l=u(Object(r.useContext)(s.MarkedLocationIdContext),2),d=l[0],f=(l[1],u(Object(r.useContext)(s.LoadedLocationsMapContext),2)),m=f[0],p=(f[1],u(Object(r.useContext)(s.CreateContentWidgetContext),2)),b=(p[0],p[1]),v=u(Object(r.useContext)(s.SelectedLocationsContext),2),y=v[0],C=(v[1],u(Object(r.useContext)(s.MultipleConfigContext),2)),g=C[0],O=C[1],h=Object(r.useContext)(s.ContentOnTheFlyConfigContext),w=h.hidden,j=h.allowedLocations,E=Object(r.useContext)(s.ContentTypesMapContext),S=Translator.trans("create_content.create",{},"universal_discovery_widget"),I=m.find((function(e){return e.parentLocationId===d}));!I&&m.length&&(I=m[m.length-1].subitems.find((function(e){return e.location.id===d})));var x=E[null===(t=I)||void 0===t||null===(n=t.location)||void 0===n?void 0:n.ContentInfo.Content.ContentType._href],T=I&&(!j||j.includes(I.parentLocationId)),_=!I||!I.permissions||I.permissions&&I.permissions.create.hasAccess,A=g&&0!==O&&y.length>=O,L=null===(a=null==x?void 0:x.isContainer)||void 0===a||a;return w?null:o.a.createElement("div",{className:"c-content-create-button"},o.a.createElement("button",{className:"c-content-create-button__btn btn btn-link",disabled:i||!_||!T||A||!L,onClick:function(){window.eZ.helpers.tooltips.hideAll(),b((function(e){return!e}))},"data-tooltip-container-selector":".c-top-menu",title:S},o.a.createElement(c.a,{name:"create",extraClasses:"ez-icon--small-medium ez-icon--primary"})," ",S))};d.propTypes={isDisabled:i.a.bool},d.defaultProps={isDisabled:!1},eZ.addConfig("adminUiConfig.universalDiscoveryWidget.topMenuActions",[{id:"content-create-button",priority:30,component:d}],!0),t.default=d},AJkD:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.a=function e(t){var n;if("object"!==r(t))return t;if(!t)return t;if("[object Array]"===Object.prototype.toString.apply(t)){n=[];for(var o=0;o<t.length;o++)n[o]=e(t[o]);return n}for(var a in n={},t)t.hasOwnProperty(a)&&(n[a]=e(t[a]));return n}},CgFf:function(e,t,n){"use strict";n.r(t),n.d(t,"SORTING_OPTIONS",(function(){return x})),n.d(t,"VIEWS",(function(){return T})),n.d(t,"UDWContext",(function(){return L})),n.d(t,"RestInfoContext",(function(){return P})),n.d(t,"AllowRedirectsContext",(function(){return D})),n.d(t,"AllowConfirmationContext",(function(){return R})),n.d(t,"ContentTypesMapContext",(function(){return k})),n.d(t,"ContentTypesInfoMapContext",(function(){return N})),n.d(t,"MultipleConfigContext",(function(){return q})),n.d(t,"ContainersOnlyContext",(function(){return M})),n.d(t,"AllowedContentTypesContext",(function(){return z})),n.d(t,"ActiveTabContext",(function(){return V})),n.d(t,"TabsConfigContext",(function(){return U})),n.d(t,"TabsContext",(function(){return F})),n.d(t,"TitleContext",(function(){return Z})),n.d(t,"CancelContext",(function(){return X})),n.d(t,"ConfirmContext",(function(){return W})),n.d(t,"SortingContext",(function(){return H})),n.d(t,"SortOrderContext",(function(){return G})),n.d(t,"CurrentViewContext",(function(){return $})),n.d(t,"MarkedLocationIdContext",(function(){return J})),n.d(t,"LoadedLocationsMapContext",(function(){return B})),n.d(t,"RootLocationIdContext",(function(){return Q})),n.d(t,"SelectedLocationsContext",(function(){return Y})),n.d(t,"CreateContentWidgetContext",(function(){return K})),n.d(t,"ContentOnTheFlyDataContext",(function(){return ee})),n.d(t,"ContentOnTheFlyConfigContext",(function(){return te})),n.d(t,"EditOnTheFlyDataContext",(function(){return ne}));var r=n("cDcd"),o=n.n(r),a=n("rf6O"),i=n.n(a),c=n("AJkD"),s=n("nLu2");function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=[{parentLocationId:1,subitems:[]}],p=function(e,t){switch(t.type){case"CUT_LOCATIONS":return function(e,t){var n=e.findIndex((function(e){return e.parentLocationId===t.locationId}));return-1===n?e:e.slice(0,n+1)}(e,t);case"UPDATE_LOCATIONS":return function(e,t){var n=e.findIndex((function(e){return e.parentLocationId===t.data.parentLocationId})),r=l(e);if(-1!==n)return r[n]=t.data,r;var o=e.findIndex((function(e){return e.subitems.find((function(e){return e.location.id===t.data.parentLocationId}))}));return-1!==o&&(r=r.slice(0,o+1)),r.push(t.data),r}(e,t);case"SET_LOCATIONS":return function(e,t){return t.data}(0,t);case"CLEAR_LOCATIONS":return[];default:throw new Error}};function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=[],O=function(e,t){switch(t.type){case"ADD_SELECTED_LOCATION":return[].concat(v(e),[{location:t.location,permissions:t.permissions}]);case"REMOVE_SELECTED_LOCATION":return e.filter((function(e){return e.location.id!==t.id}));case"CLEAR_SELECTED_LOCATIONS":return[];case"REPLACE_SELECTED_LOCATIONS":return t.locations;default:throw new Error}},h=n("xI8+");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=[{label:Translator.trans("sorting.date.label",{},"universal_discovery_widget"),tooltipLabel:Translator.trans("sorting.date.tooltip",{},"universal_discovery_widget"),sortClause:"DatePublished"},{label:Translator.trans("sorting.name.label",{},"universal_discovery_widget"),tooltipLabel:Translator.trans("sorting.name.tooltip",{},"universal_discovery_widget"),sortClause:"ContentName"}],T=[{id:"grid",icon:"view-grid",tooltipLabel:Translator.trans("sorting.grid.view",{},"universal_discovery_widget")},{id:"finder",icon:"panels",tooltipLabel:Translator.trans("sorting.panels.view",{},"universal_discovery_widget")},{id:"tree",icon:"content-tree",tooltipLabel:Translator.trans("sorting.tree.view",{},"universal_discovery_widget")}],_={token:document.querySelector('meta[name="CSRF-Token"]').content,siteaccess:document.querySelector('meta[name="SiteAccess"]').content},A=Object.values(eZ.adminUiConfig.contentTypes).reduce((function(e,t){return t.forEach((function(t){e[t.href]=t})),e}),{}),L=Object(r.createContext)(),P=Object(r.createContext)(),D=Object(r.createContext)(),R=Object(r.createContext)(),k=Object(r.createContext)(),N=Object(r.createContext)(),q=Object(r.createContext)(),M=Object(r.createContext)(),z=Object(r.createContext)(),V=Object(r.createContext)(),U=Object(r.createContext)(),F=Object(r.createContext)(),Z=Object(r.createContext)(),X=Object(r.createContext)(),W=Object(r.createContext)(),H=Object(r.createContext)(),G=Object(r.createContext)(),$=Object(r.createContext)(),J=Object(r.createContext)(),B=Object(r.createContext)(),Q=Object(r.createContext)(),Y=Object(r.createContext)(),K=Object(r.createContext)(),ee=Object(r.createContext)(),te=Object(r.createContext)(),ne=Object(r.createContext)(),re=function(e){var t=window.eZ.adminUiConfig.universalDiscoveryWidget.tabs,n=e.startingLocationId||e.rootLocationId,a=S(Object(r.useState)(e.activeTab),2),i=a[0],l=a[1],d=S(Object(r.useState)(e.activeSortClause),2),f=d[0],v=d[1],y=S(Object(r.useState)(e.activeSortOrder),2),C=y[0],w=y[1],E=S(Object(r.useState)(e.activeView),2),I=E[0],x=E[1],T=S(Object(r.useState)(1!==n?n:null),2),re=T[0],oe=T[1],ae=S(Object(r.useState)(!1),2),ie=ae[0],ce=ae[1],se=S(Object(r.useState)({}),2),ue=se[0],le=se[1],de=S(Object(r.useState)({}),2),fe=de[0],me=de[1],pe=S(Object(r.useState)({}),2),be=pe[0],ve=pe[1],ye=S(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=Object(r.useReducer)(p,e),n=u(t,2),o=n[0],a=n[1];return[o,a]}([{parentLocationId:e.rootLocationId,subitems:[]}]),2),Ce=ye[0],ge=ye[1],Oe=S(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=Object(r.useReducer)(O,e),n=b(t,2),o=n[0],a=n[1];return[o,a]}(),2),he=Oe[0],we=Oe[1],je=t.find((function(e){return e.id===i})).component,Ee=Object(s.a)({"m-ud":!0,"m-ud--locations-selected":!!he.length&&e.allowConfirmation}),Se=function(e){var t=Object(c.a)(he);e.forEach((function(e){var n=t.find((function(t){return t.location.id===e.location.Location.id}));n&&(n.permissions=e.permissions)})),we({type:"REPLACE_SELECTED_LOCATIONS",locations:t})};return Object(r.useEffect)((function(){return Object(h.i)(_,(function(e){var t=e.ContentTypeInfoList.ContentType.reduce((function(e,t){return e[t._href]=t,e}),{});ve(t)})),window.document.body.dispatchEvent(new CustomEvent("ez-udw-opened")),window.eZ.helpers.tooltips.parse(window.document.querySelector(".c-udw-tab")),function(){window.document.body.dispatchEvent(new CustomEvent("ez-udw-closed"))}}),[]),Object(r.useEffect)((function(){e.selectedLocations.length&&Object(h.c)(j(j({},_),{},{id:e.selectedLocations.join(",")}),(function(t){var n=e.selectedLocations.map((function(e){return{location:t.find((function(t){return t.id===parseInt(e,10)}))}}));we({type:"REPLACE_SELECTED_LOCATIONS",locations:n})}))}),[e.selectedLocations]),Object(r.useEffect)((function(){var e=he.filter((function(e){return!e.permissions})).map((function(e){return e.location.id})).join(",");e&&Object(h.j)({locationIds:e},Se)}),[he]),Object(r.useEffect)((function(){var e=he.filter((function(e){return!e.location.ContentInfo.Content.CurrentVersion.Version}));if(e.length){var t=e.map((function(e){return e.location.ContentInfo.Content._id})).join(",");Object(h.h)(j(j({},_),{},{contentId:t}),(function(e){var t=he;e.forEach((function(e){var n=t.find((function(t){return t.location.ContentInfo.Content._id===e._id}));n&&(n.location.ContentInfo.Content.CurrentVersion.Version=e.CurrentVersion.Version)})),we({type:"REPLACE_SELECTED_LOCATIONS",locations:t})}))}}),[he]),Object(r.useEffect)((function(){return window.document.body.classList.add("ez-scroll-disabled"),function(){window.document.body.classList.remove("ez-scroll-disabled")}})),Object(r.useEffect)((function(){"grid"===I?(Ce[Ce.length-1].subitems=[],ge({type:"SET_LOCATIONS",data:Ce})):("finder"===I||"tree"===I)&&re&&re!==Ce[Ce.length-1].parentLocationId&&Ce[Ce.length-1].subitems.find((function(e){return e.location.id===re}))&&ge({type:"UPDATE_LOCATIONS",data:{parentLocationId:re,subitems:[]}})}),[I]),Object(r.useEffect)((function(){e.startingLocationId&&1!==e.startingLocationId&&Object(h.f)(j(j({},_),{},{parentLocationId:e.startingLocationId,sortClause:f,sortOrder:C,gridView:"grid"===I,rootLocationId:e.rootLocationId}),(function(t){ge({type:"SET_LOCATIONS",data:t}),oe(e.startingLocationId)}))}),[e.startingLocationId]),Object(r.useEffect)((function(){var e=Ce.map((function(e){return e.subitems=[],e}));ge({type:"SET_LOCATIONS",data:e})}),[f,C]),o.a.createElement("div",{className:Ee},o.a.createElement(L.Provider,{value:!0},o.a.createElement(P.Provider,{value:_},o.a.createElement(D.Provider,{value:e.allowRedirects},o.a.createElement(R.Provider,{value:e.allowConfirmation},o.a.createElement(N.Provider,{value:be},o.a.createElement(k.Provider,{value:A},o.a.createElement(q.Provider,{value:[e.multiple,e.multipleItemsLimit]},o.a.createElement(M.Provider,{value:e.containersOnly},o.a.createElement(z.Provider,{value:e.allowedContentTypes},o.a.createElement(V.Provider,{value:[i,l]},o.a.createElement(F.Provider,{value:t},o.a.createElement(U.Provider,{value:e.tabsConfig},o.a.createElement(Z.Provider,{value:e.title},o.a.createElement(X.Provider,{value:e.onCancel},o.a.createElement(W.Provider,{value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,n=t.map((function(e){var t=Object(c.a)(e.location),n=t.ContentInfo.Content.ContentType;return t.ContentInfo.Content.ContentTypeInfo=be[n._href],t}));e.onConfirm(n)}},o.a.createElement(H.Provider,{value:[f,v]},o.a.createElement(G.Provider,{value:[C,w]},o.a.createElement($.Provider,{value:[I,x]},o.a.createElement(J.Provider,{value:[re,oe]},o.a.createElement(B.Provider,{value:[Ce,ge]},o.a.createElement(Q.Provider,{value:e.rootLocationId},o.a.createElement(Y.Provider,{value:[he,we]},o.a.createElement(K.Provider,{value:[ie,ce]},o.a.createElement(ee.Provider,{value:[ue,le]},o.a.createElement(te.Provider,{value:e.contentOnTheFly},o.a.createElement(ne.Provider,{value:[fe,me]},o.a.createElement(je,null))))))))))))))))))))))))))))};re.propTypes={onConfirm:i.a.func.isRequired,onCancel:i.a.func.isRequired,title:i.a.string.isRequired,activeTab:i.a.string,rootLocationId:i.a.number,startingLocationId:i.a.number,multiple:i.a.bool,multipleItemsLimit:i.a.number,containersOnly:i.a.bool,allowedContentTypes:i.a.array.isRequired,activeSortClause:i.a.string,activeSortOrder:i.a.string,activeView:i.a.string,contentOnTheFly:i.a.shape({allowedLanguages:i.a.array.isRequired,allowedLocations:i.a.array.isRequired,preselectedLocation:i.a.string.isRequired,preselectedContentType:i.a.string.isRequired,hidden:i.a.bool.isRequired,autoConfirmAfterPublish:i.a.bool.isRequired}).isRequired,tabsConfig:i.a.objectOf(i.a.shape({itemsPerPage:i.a.number.isRequired,priority:i.a.number.isRequired,hidden:i.a.bool.isRequired})).isRequired,selectedLocations:i.a.array,allowRedirects:i.a.bool.isRequired,allowConfirmation:i.a.bool.isRequired},re.defaultProps={activeTab:"browse",rootLocationId:1,startingLocationId:null,multiple:!1,multipleItemsLimit:1,containersOnly:!1,activeSortClause:"date",activeSortOrder:"ascending",activeView:"finder",tabs:window.eZ.adminUiConfig.universalDiscoveryWidget.tabs,selectedLocations:[]},eZ.addConfig("modules.UniversalDiscovery",re);t.default=re},FKNw:function(e,t,n){"use strict";n.r(t);var r=n("cDcd"),o=n.n(r),a=n("rf6O"),i=n.n(a),c=n("PdvI"),s=n("nLu2"),u=n("CgFf");function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=function(e){var t=e.isDisabled,n=l(Object(r.useContext)(u.SortingContext),2),a=n[0],i=n[1],d=l(Object(r.useContext)(u.SortOrderContext),2),f=d[0],m=d[1],p=Object(s.a)({"c-sort-switcher":!0,"c-sort-switcher--disabled":t});return o.a.createElement("div",{className:p},u.SORTING_OPTIONS.map((function(e){var n=Object(s.a)({"c-menu-button--selected":e.sortClause===a,"c-menu-button--sorted-asc":"ascending"===f,"c-menu-button--sorted-desc":"descending"===f});return o.a.createElement(c.a,{key:e.sortClause,extraClasses:n,onClick:function(){i(e.sortClause),a===e.sortClause&&m("ascending"===f?"descending":"ascending")},isDisabled:t,title:e.tooltipLabel},e.label)})))};f.propTypes={isDisabled:i.a.bool},f.defaultProps={isDisabled:!1},eZ.addConfig("adminUiConfig.universalDiscoveryWidget.topMenuActions",[{id:"sort-switcher",priority:20,component:f}],!0),t.default=f},Ldod:function(e,t,n){"use strict";n.r(t);var r=n("cDcd"),o=n.n(r),a=n("rf6O"),i=n.n(a),c=n("MqzM"),s=function(e){var t=e.location,n=e.permissions,r=n&&n.edit.hasAccess;return o.a.createElement("div",{className:"c-selected-item-edit-button"},o.a.createElement(c.a,{version:t.ContentInfo.Content.CurrentVersion.Version,location:t,isDisabled:!r}))};eZ.addConfig("adminUiConfig.universalDiscoveryWidget.selectedItemActions",[{id:"content-edit-button",priority:30,component:s}],!0),s.propTypes={location:i.a.object.isRequired,permissions:i.a.object.isRequired},t.default=s},MUfx:function(e,t,n){"use strict";var r=n("cDcd"),o=n.n(r),a=n("rf6O"),i=n.n(a),c=n("uHg5"),s=n("nLu2"),u=n("CgFf");function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=function(e){var t=e.isSelected,n=e.toggleSelection,a=Object(r.useRef)(null),i=l(Object(r.useContext)(u.SelectedLocationsContext),2),d=i[0],f=(i[1],l(Object(r.useContext)(u.MultipleConfigContext),2)),m=f[0],p=f[1],b=Translator.trans("browser.add",{},"universal_discovery_widget"),v=Translator.trans("browser.selected",{},"universal_discovery_widget"),y=t?v:b,C=t?"checkmark":"create",g=Object(s.a)({"c-toggle-selection-button":!0,"c-toggle-selection-button--selected":t});return Object(r.useEffect)((function(){window.eZ.helpers.tooltips.hideAll(window.document.querySelector(".c-udw-tab")),a.current.getAttribute("data-original-title")&&a.current.removeAttribute("title"),a.current.setAttribute("data-original-title",y)}),[t]),m&&!t&&d.length>=p&&0!==p?null:o.a.createElement("button",{ref:a,className:g,onClick:n,title:y,"data-tooltip-container-selector":".c-udw-tab"},o.a.createElement(c.a,{name:C,extraClasses:"ez-icon--small"}))};f.propTypes={isSelected:i.a.object.isRequired,toggleSelection:i.a.func.isRequired},t.a=f},MqzM:function(e,t,n){"use strict";var r=n("cDcd"),o=n.n(r),a=n("rf6O"),i=n.n(a),c=n("uHg5"),s=n("qM4U"),u=n("xI8+"),l=n("CgFf");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){var t=e.version,n=e.location,a=e.isDisabled,i=Object(r.useContext)(l.RestInfoContext),d=Object(r.useContext)(l.AllowRedirectsContext),m=p(Object(r.useContext)(l.EditOnTheFlyDataContext),2),b=(m[0],m[1]),v=p(Object(r.useContext)(l.ActiveTabContext),2),y=(v[0],v[1]),C=Object(r.useContext)(l.ContentTypesMapContext),g=p(Object(r.useState)(!1),2),O=g[0],h=g[1],w=C[n.ContentInfo.Content.ContentType._href],j=window.eZ.adminUiConfig.userContentTypes.includes(w.identifier),E=Translator.trans("meta_preview.edit",{},"universal_discovery_widget");Object(r.useEffect)((function(){h(!1)}),[t]);var S=function(){h(!1)},I=function(e,t,n,r){if(d){var o=j?window.Routing.generate("ezplatform.user.update",{contentId:e,versionNo:t,language:n},!0):window.Routing.generate("ezplatform.content.draft.edit",{contentId:e,versionNo:t,language:n,locationId:r},!0);window.location.href=o}else b({contentId:e,versionNo:t,languageCode:n,locationId:r}),y("content-edit")},x=function(e){var r=n.ContentInfo.Content._id;j?I(r,t.VersionInfo.versionNo,e,n.id):Object(u.b)(f(f({},i),{},{contentId:r}),(function(t){return I(r,t.Version.VersionInfo.versionNo,e,n.id)}))};return o.a.createElement("div",{className:"c-content-edit-button"},o.a.createElement("button",{className:"c-content-edit-button__btn btn btn-icon",disabled:!t||a,onClick:function(){var e=t.VersionInfo.languageCodes.split(",");1===e.length?x(e[0]):h(!0)},"data-tooltip-container-selector":".c-udw-tab",title:E},o.a.createElement(c.a,{name:"edit",extraClasses:"ez-icon--small-medium ez-icon--secondary"})),o.a.createElement(s.a,{hideTranslationSelector:S,selectTranslation:x,version:t,isOpen:O&&t}))};v.propTypes={location:i.a.object.isRequired,version:i.a.object.isRequired,isDisabled:i.a.bool.isRequired},t.a=v},NXPk:function(e,t,n){"use strict";n.r(t);var r=n("cDcd"),o=n.n(r),a=n("rf6O"),i=n.n(a),c=n("CgFf"),s=n("xI8+"),u=n("MUfx");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=function(e){var t=e.locationId,n=e.isContainer,a=e.contentTypeIdentifier,i=Object(r.useContext)(c.UDWContext);if(Object(r.useEffect)((function(){window.eZ.helpers.tooltips.parse(window.document.querySelector(".c-list"))}),[]),!i)return null;var l=m(Object(r.useContext)(c.SelectedLocationsContext),2),f=l[0],p=l[1],b=m(Object(r.useContext)(c.MultipleConfigContext),2),v=b[0],y=(b[1],Object(r.useContext)(c.ContainersOnlyContext)),C=Object(r.useContext)(c.AllowedContentTypesContext),g=Object(r.useContext)(c.RestInfoContext),O=y&&!n||C&&!C.includes(a),h=f.some((function(e){return e.location.id===t}));return!v||O?null:o.a.createElement(u.a,{isSelected:h,toggleSelection:function(){h?p({type:"REMOVE_SELECTED_LOCATION",id:t}):Object(s.c)(d(d({},g),{},{id:t}),(function(e){var t=m(e,1)[0];p({type:"ADD_SELECTED_LOCATION",location:t})}))}})};eZ.addConfig("adminUiConfig.contentTreeWidget.itemActions",[{id:"toggle-selection-button",priority:30,component:b}],!0),b.propTypes={locationId:i.a.number.isRequired,isContainer:i.a.bool.isRequired,contentTypeIdentifier:i.a.string.isRequired},t.default=b},PdvI:function(e,t,n){"use strict";var r=n("cDcd"),o=n.n(r),a=n("rf6O"),i=n.n(a),c=n("nLu2");var s=function(e){var t,n,r,a=e.extraClasses,i=e.onClick,s=e.isDisabled,u=e.title,l=e.children,d=Object(c.a)((r=!!a,(n=a)in(t={"c-menu-button":!0})?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t));return o.a.createElement("button",{className:d,onClick:i,disabled:s,title:u,"data-tooltip-container-selector":".c-udw-tab"},l)};s.propTypes={extraClasses:i.a.string,onClick:i.a.func.isRequired,isDisabled:i.a.bool,title:i.a.string,children:i.a.any},s.defaultProps={children:[],extraClasses:"",isDisabled:!1,title:""},t.a=s},S6d5:function(e,t,n){"use strict";n.r(t),n.d(t,"getLocationData",(function(){return b}));var r=n("cDcd"),o=n.n(r),a=n("uHg5"),i=n("oOVF"),c=(n("qM4U"),n("MqzM")),s=n("xI8+"),u=n("CgFf");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=function(e,t){return e.find((function(e){return e.parentLocationId===t}))||e.length&&e[e.length-1].subitems.find((function(e){return e.location.id===t}))},v=function(){var e=Object(r.useRef)(null),t=m(Object(r.useContext)(u.MarkedLocationIdContext),2),n=t[0],l=(t[1],m(Object(r.useContext)(u.LoadedLocationsMapContext),2)),f=l[0],p=l[1],v=Object(r.useContext)(u.ContentTypesMapContext),y=Object(r.useContext)(u.RestInfoContext),C=Object(r.useContext)(u.AllowRedirectsContext),g=window.eZ.helpers.timezone.formatShortDateTime,O=Object(r.useMemo)((function(){return b(f,n)}),[n,f]),h=Translator.trans("meta_preview.bookmark",{},"universal_discovery_widget"),w=Translator.trans("meta_preview.preview",{},"universal_discovery_widget");if(Object(r.useEffect)((function(){window.eZ.helpers.tooltips.parse(e.current)})),!O||!O.location||!O.version||1===n)return null;var j,E,S=O.bookmarked,I=O.location,x=O.version,T=O.permissions,_=S?"bookmark-active":"bookmark",A=function(){window.location.href=window.Routing.generate("_ez_content_view",{contentId:I.ContentInfo.Content._id,locationId:I.id},!0)},L=Translator.trans("meta_preview.last_modified",{},"universal_discovery_widget"),P=Translator.trans("meta_preview.creation_date",{},"universal_discovery_widget"),D=Translator.trans("meta_preview.translations",{},"universal_discovery_widget");return o.a.createElement("div",{className:"c-content-meta-preview",ref:e},o.a.createElement("div",{className:"c-content-meta-preview__preview"},o.a.createElement(i.a,{thumbnailData:x.Thumbnail,iconExtraClasses:"ez-icon--extra-large"})),o.a.createElement("div",{className:"c-content-meta-preview__header"},o.a.createElement("span",{className:"c-content-meta-preview__content-name"},I.ContentInfo.Content.TranslatedName),o.a.createElement("button",{className:"c-content-meta-preview__toggle-bookmark-button btn btn-icon",onClick:function(){(S?s.k:s.a)(d(d({},y),{},{locationId:I.id}),(function(){p({type:"UPDATE_LOCATIONS",data:d(d({},O),{},{bookmarked:!S})})}))},title:h,"data-placement":"left","data-tooltip-container-selector":".c-content-meta-preview"},o.a.createElement(a.a,{name:_,extraClasses:"ez-icon--small ez-icon--secondary"}))),(j=C?o.a.createElement("button",{className:"c-content-meta-preview__preview-button btn btn-icon",onClick:A,"data-tooltip-container-selector":".c-udw-tab",title:w},o.a.createElement(a.a,{name:"view",extraClasses:"ez-icon--small-medium ez-icon--secondary"})):null,E=T&&T.edit.hasAccess,o.a.createElement("div",{className:"c-content-meta-preview__actions"},o.a.createElement(c.a,{location:I,version:x,isDisabled:!E}),j)),o.a.createElement("div",{className:"c-content-meta-preview__info"},o.a.createElement("div",{className:"c-content-meta-preview__content-type-name"},v[I.ContentInfo.Content.ContentType._href].name),o.a.createElement("div",{className:"c-content-meta-preview__details"},o.a.createElement("div",{className:"c-content-meta-preview__details-item"},o.a.createElement("span",null,L),o.a.createElement("span",null,g(new Date(I.ContentInfo.Content.lastModificationDate)))),o.a.createElement("div",{className:"c-content-meta-preview__details-item"},o.a.createElement("span",null,P),o.a.createElement("span",null,g(new Date(I.ContentInfo.Content.publishedDate)))),o.a.createElement("div",{className:"c-content-meta-preview__details-item"},o.a.createElement("span",null,D),o.a.createElement("div",{className:"c-content-meta-preview__translations-wrapper"},x.VersionInfo.languageCodes.split(",").map((function(e){return o.a.createElement("span",{key:e,className:"c-content-meta-preview__translation"},window.eZ.adminUiConfig.languages.mappings[e].name)})))))))};eZ.addConfig("adminUiConfig.universalDiscoveryWidget.contentMetaPreview",v),t.default=v},Y1Nf:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=function(e){var t=new CustomEvent("ez-notify",{detail:e});document.body.dispatchEvent(t)},o=function(e){var t=e instanceof Error?e.message:e;r({message:t,label:"error"})}},cDcd:function(e,t){e.exports=React},iRWG:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var r=function(e){if(!e.ok)throw Error(e.statusText);return e},o=function(e){return r(e).json()},a=function(e){return r(e).status}},nLu2:function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return a}));var a=function(e){return"[object Object]"!==Object.prototype.toString.call(e)?"":Object.entries(e).reduce((function(e,t){var n=r(t,2),o=n[0],a=n[1];return"".concat(e," ").concat(a?o:"")}),"").trim()}},oOVF:function(e,t,n){"use strict";var r=n("cDcd"),o=n.n(r),a=n("rf6O"),i=n.n(a),c=n("uHg5"),s=function(e){var t=e.thumbnailData,n=e.iconExtraClasses,r=e.contentTypeIconPath;return"image/svg+xml"===t.mimeType?o.a.createElement("div",{className:"c-thumbnail"},o.a.createElement(c.a,{extraClasses:n,customPath:t.resource})):o.a.createElement("div",{className:"c-thumbnail"},r?o.a.createElement("div",{className:"c-thumbnail__icon-wrapper"},o.a.createElement(c.a,{extraClasses:"ez-icon--small",customPath:r})):null,o.a.createElement("img",{src:t.resource}))};s.propTypes={thumbnailData:i.a.shape({mimeType:i.a.string.isRequired,resource:i.a.string.isRequired}).isRequired,iconExtraClasses:i.a.string,contentTypeIconPath:i.a.string},s.defaultProps={iconExtraClasses:null,contentTypeIconPath:null},t.a=s},qM4U:function(e,t,n){"use strict";var r=n("cDcd"),o=n.n(r),a=n("rf6O"),i=n.n(a),c=n("nLu2"),s=n("uHg5"),u=function(e){var t=e.hideTranslationSelector,n=e.selectTranslation,r=e.version,a=e.isOpen,i=r?r.VersionInfo.languageCodes.split(","):[],u=Translator.trans("meta_preview.edit_translation",{},"universal_discovery_widget"),l=Object(c.a)({"c-translation-selector":!0,"c-translation-selector--hidden":!a});return o.a.createElement("div",{className:l},o.a.createElement("div",{className:"c-translation-selector__header"},o.a.createElement("span",{className:"c-translation-selector__title"},"".concat(u," (").concat(i.length,")")),o.a.createElement("button",{className:"c-translation-selector__close-button btn",onClick:t},o.a.createElement(s.a,{name:"discard",extraClasses:"ez-icon--small"}))),o.a.createElement("div",{className:"c-translation-selector__languages-wrapper"},i.map((function(e){return o.a.createElement("div",{key:e,className:"c-translation-selector__language",onClick:n.bind(void 0,e)},window.eZ.adminUiConfig.languages.mappings[e].name)}))))};u.propTypes={hideTranslationSelector:i.a.func.isRequired,selectTranslation:i.a.func.isRequired,version:i.a.object.isRequired,isOpen:i.a.bool.isRequired},t.a=u},rf6O:function(e,t){e.exports=PropTypes},uHg5:function(e,t,n){"use strict";var r=n("cDcd"),o=n.n(r),a=n("rf6O"),i=n.n(a),c=function(e){var t=e.customPath?e.customPath:window.eZ.helpers.icon.getIconPath(e.name),n="ez-icon";return e.extraClasses&&(n="".concat(n," ").concat(e.extraClasses)),o.a.createElement("svg",{className:n},o.a.createElement("use",{xlinkHref:t}))};c.propTypes={extraClasses:i.a.string,name:i.a.string,customPath:i.a.string},c.defaultProps={customPath:null,name:null,extraClasses:null},t.a=c},"xI8+":function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"g",(function(){return p})),n.d(t,"a",(function(){return v})),n.d(t,"k",(function(){return y})),n.d(t,"i",(function(){return C})),n.d(t,"b",(function(){return g})),n.d(t,"h",(function(){return O})),n.d(t,"j",(function(){return h}));var r=n("Y1Nf"),o=n("iRWG");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s={Accept:"application/vnd.ez.api.View+json; version=1.1","Content-Type":"application/vnd.ez.api.ViewInput+json; version=1.1"},u=function(e){return e.locations.map((function(t){var n={location:t.Location};if(e.versions){var r=e.versions.find((function(e){return e.Version.VersionInfo.Content._href===t.Location.Content._href}));n.version=r.Version}return n}))},l=function(e,t){var n=e.token,a=e.parentLocationId,i=e.limit,c=void 0===i?50:i,s=e.offset,l=void 0===s?0:s,d=e.sortClause,f=void 0===d?"DatePublished":d,m=e.sortOrder,p=void 0===m?"ascending":m,b=e.gridView,v=void 0!==b&&b?"ezplatform.udw.location_gridview.data":"ezplatform.udw.location.data",y=window.Routing.generate(v,{locationId:a}),C=new Request("".concat(y,"?limit=").concat(c,"&offset=").concat(l,"&sortClause=").concat(f,"&sortOrder=").concat(p),{method:"GET",headers:{"X-CSRF-Token":n},mode:"same-origin",credentials:"same-origin"});fetch(C).then(o.a).then((function(e){var n=e.bookmarked,r=e.location,o=e.permissions,i=e.subitems,c=e.version,s=u(i),l={location:r?r.Location:null,version:c?c.Version:null,totalCount:i.totalCount,subitems:s,bookmarked:n,permissions:o,parentLocationId:a};t(l)})).catch(r.a)},d=function(e,t){var n=e.token,a=e.parentLocationId,i=e.limit,c=void 0===i?50:i,s=e.sortClause,l=void 0===s?"DatePublished":s,d=e.sortOrder,f=void 0===d?"ascending":d,m=e.gridView,p=void 0!==m&&m,b=e.rootLocationId,v=void 0===b?1:b,y=p?"ezplatform.udw.accordion_gridview.data":"ezplatform.udw.accordion.data",C=window.Routing.generate(y,{locationId:a}),g=new Request("".concat(C,"?limit=").concat(c,"&sortClause=").concat(l,"&sortOrder=").concat(f,"&rootLocationId=").concat(v),{method:"GET",headers:{"X-CSRF-Token":n},mode:"same-origin",credentials:"same-origin"});fetch(g).then(o.a).then((function(e){var n=e.breadcrumb.map((function(t){var n=t.Location,r=e.columns[n.id];return{location:n,totalCount:r?r.subitems.totalCount:void 0,subitems:r?u(r.subitems):[],parentLocationId:n.id,collapsed:!e.columns[n.id]}})),r=e.columns[1],o=e.columns[a];r&&n.unshift({totalCount:r?r.subitems.totalCount:void 0,subitems:r?u(r.subitems):[],parentLocationId:1,collapsed:!1}),n.push({location:o.location.Location,version:o.version.Version,totalCount:o?o.subitems.totalCount:void 0,subitems:o?u(o.subitems):[],bookmarked:o.bookmarked,permissions:o.permissions,parentLocationId:a}),t(n)})).catch(r.a)},f=function(e,t){var n=e.token,a=e.siteaccess,c=e.query,u=e.limit,l=void 0===u?50:u,d=e.offset,f=void 0===d?0:d,m=e.languageCode,p=void 0===m?null:m,b=JSON.stringify({ViewInput:{identifier:"udw-locations-by-search-query-".concat(c.FullTextCriterion),public:!1,languageCode:p,useAlwaysAvailable:!0,LocationQuery:{FacetBuilders:{},SortClauses:{},Query:c,limit:l,offset:f}}}),v=new Request("/api/ezp/v2/views",{method:"POST",headers:i(i({},s),{},{"X-Siteaccess":a,"X-CSRF-Token":n}),body:b,mode:"same-origin",credentials:"same-origin"});fetch(v).then(o.a).then((function(e){var n=e.View.Result,r=n.count,o=n.searchHits.searchHit.map((function(e){return e.value.Location}));t({items:o,count:r})})).catch(r.a)},m=function(e,t){var n=e.token,a=e.siteaccess,c=e.id,u=e.limit,l=void 0===u?50:u,d=e.offset,f=void 0===d?0:d,m=JSON.stringify({ViewInput:{identifier:"udw-locations-by-id-".concat(c),public:!1,LocationQuery:{FacetBuilders:{},SortClauses:{SectionIdentifier:"ascending"},Filter:{LocationIdCriterion:c},limit:l,offset:f}}}),p=new Request("/api/ezp/v2/views",{method:"POST",headers:i(i({},s),{},{"X-Siteaccess":a,"X-CSRF-Token":n}),body:m,mode:"same-origin",credentials:"same-origin"});fetch(p).then(o.a).then((function(e){var n=e.View.Result.searchHits.searchHit.map((function(e){return e.value.Location}));t(n)})).catch(r.a)},p=function(e,t){var n=e.token,a=e.siteaccess,i=e.limit,c=e.offset,s=new Request("".concat("/api/ezp/v2/bookmark","?limit=").concat(i,"&offset=").concat(c),{method:"GET",headers:{"X-Siteaccess":a,"X-CSRF-Token":n,Accept:"application/vnd.ez.api.ContentTypeInfoList+json"},mode:"same-origin",credentials:"same-origin"});fetch(s).then(o.a).then((function(e){var n=e.BookmarkList.count,r=e.BookmarkList.items.map((function(e){return e.Location}));t({count:n,items:r})})).catch(r.a)},b=function(e,t,n){var a=e.siteaccess,i=e.token,c=e.locationId,s=new Request("".concat("/api/ezp/v2/bookmark","/").concat(c),{method:n,headers:{"X-Siteaccess":a,"X-CSRF-Token":i},mode:"same-origin",credentials:"same-origin"});fetch(s).then(o.b).then(t).catch(r.a)},v=function(e,t){b(e,t,"POST")},y=function(e,t){b(e,t,"DELETE")},C=function(e,t){var n=e.token,a=e.siteaccess,i=new Request("/api/ezp/v2/content/types",{method:"GET",headers:{Accept:"application/vnd.ez.api.ContentTypeInfoList+json","X-Siteaccess":a,"X-CSRF-Token":n},mode:"same-origin",credentials:"same-origin"});fetch(i).then(o.a).then(t).catch(r.a)},g=function(e,t){var n=e.token,a=e.siteaccess,i=e.contentId,c=new Request("/api/ezp/v2/content/objects/".concat(i,"/currentversion"),{method:"COPY",headers:{Accept:"application/vnd.ez.api.VersionUpdate+json","X-Siteaccess":a,"X-CSRF-Token":n},mode:"same-origin",credentials:"same-origin"});fetch(c).then(o.a).then(t).catch(r.a)},O=function(e,t){var n=e.token,a=e.siteaccess,i=e.contentId,c=e.limit,u=void 0===c?50:c,l=e.offset,d=void 0===l?0:l,f=JSON.stringify({ViewInput:{identifier:"udw-load-content-info-".concat(i),public:!1,ContentQuery:{FacetBuilders:{},SortClauses:{},Filter:{ContentIdCriterion:"".concat(i)},limit:u,offset:d}}}),m=new Request("/api/ezp/v2/views",{method:"POST",headers:Object.assign({},s,{"X-Siteaccess":a,"X-CSRF-Token":n}),body:f,mode:"same-origin",credentials:"same-origin"});fetch(m).then(o.a).then((function(e){var n=e.View.Result.searchHits.searchHit.map((function(e){return e.value.Content}));t(n)})).catch(r.a)},h=function(e,t){var n=e.locationIds,a=window.Routing.generate("ezplatform.udw.locations.data"),i=new Request("".concat(a,"?locationIds=").concat(n),{method:"GET",mode:"same-origin",credentials:"same-origin"});fetch(i).then(o.a).then(t).catch(r.a)}}},[[33,"runtime"]]]);